{"version":3,"file":"static/js/784.5da4fb61.chunk.js","mappings":"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","sources":["components/ModalLayout/ModalLayout.jsx","utils/replaceStarsOnNumbersCard.js","webpack://game_store/./src/components/OrderPageComponents/PaymentForm/Card/Card.module.scss?7e39","components/OrderPageComponents/PaymentForm/Card/Card.jsx","webpack://game_store/./src/components/OrderPageComponents/PaymentForm/PaymentForm.module.scss?6d69","utils/formattingDate.js","components/OrderPageComponents/PaymentForm/Form/Form.jsx","components/OrderPageComponents/PaymentForm/hook/usePayment.jsx","utils/normalizeCardNumber.js","components/OrderPageComponents/PaymentForm/PaymentForm.jsx"],"sourcesContent":["import React from 'react';\r\nimport {Dialog} from '@headlessui/react'\r\n\r\nimport {MotionMain} from \"../MotionMain\";\r\n\r\nconst ModalLayout = ({show, setShow, children, bg, content, modal}) => {\r\n  return (\r\n      <Dialog\r\n        open = {show}\r\n        onClose = {() => setShow(false)} className = {modal}>\r\n        <MotionMain\r\n              initial={{ opacity: 0, scale: 0 }}\r\n              transition = {{ duration: 0.5, ease: 'linear' }}\r\n              animate={{ opacity: 1,scale: 1 }}\r\n               classname = {bg}>\r\n            <Dialog.Panel className = {content}>\r\n              {children}\r\n            </Dialog.Panel>\r\n        </MotionMain>\r\n      </Dialog>\r\n  );\r\n};\r\n\r\nexport default ModalLayout;","export const replaceStarsOnNumbersCard =(numberCard) => {\r\n  const arr = ['*', '*', '*', '*', ' ', '*', '*', '*', '*', ' ', '*', '*', '*', '*', ' ', '*', '*', '*', '*']\r\n  if(numberCard){\r\n    for(let i = 0; i < numberCard.length; i++){\r\n      arr[i] = numberCard[i]\r\n    }\r\n  }\r\n  return arr.join('')\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"App\":\"Card_App__F0TXy\",\"visually-hidden\":\"Card_visually-hidden__YURq0\",\"card-chip\":\"Card_card-chip__Nm3LH\",\"card-bg\":\"Card_card-bg__TPesI\",\"card-back\":\"Card_card-back__JNzv9\",\"card\":\"Card_card__OPEXH\",\"card-inner\":\"Card_card-inner__gwnN1\",\"turned\":\"Card_turned__A8EUc\",\"card-front\":\"Card_card-front__JUMDH\",\"card-glow\":\"Card_card-glow__LWGJX\",\"card-contactless\":\"Card_card-contactless__T4PCn\",\"card-holder\":\"Card_card-holder__1YWIy\",\"card-number\":\"Card_card-number__58Ufy\",\"card-valid\":\"Card_card-valid__rm-Ip\",\"card-signature\":\"Card_card-signature__Krjx8\",\"card-seccode\":\"Card_card-seccode__LxdSz\",\"logo\":\"Card_logo__Fk+De\"};","import React from 'react';\r\n\r\nimport {replaceStarsOnNumbersCard} from \"utils/replaceStarsOnNumbersCard\";\r\n\r\nimport cn from './Card.module.scss'\r\n\r\n\r\nconst Card = ({numberCard, name, ccv, turnClass, cardValidityPeriod}) => {\r\n\r\n  const defaultProp = (prop, value) => {\r\n    return !!prop ? prop : value\r\n  }\r\n\r\n  const {year, month} = cardValidityPeriod;\r\n\r\n  return (\r\n    <div className = {cn.card}>\r\n      <div className = {`${cn[\"card-inner\"]} ${cn[turnClass]}`} >\r\n        <div className = {cn[\"card-front\"]}>\r\n          <div className = {cn[\"card-bg\"]}></div>\r\n          <div className = {cn[\"card-glow\"]}></div>\r\n          <div className = {cn[\"card-contactless\"]}>\r\n            <svg xmlns = \"http://www.w3.org/2000/svg\" width = \"46\" height = \"56\">\r\n              <path\r\n                fill = \"none\"\r\n                stroke = \"#f9f9f9\"\r\n                strokeWidth = \"6\"\r\n                strokeLinecap = \"round\"\r\n                d = \"m35,3a50,50 0 0,1 0,50M24,8.5a39,39 0 0,1 0,39M13.5,13.55a28.2,28.5\r\n  0 0,1 0,28.5M3,19a18,17 0 0,1 0,18\"\r\n              />\r\n            </svg>\r\n          </div>\r\n          <div className = {cn[\"card-chip\"]}></div>\r\n          <div className = {cn[\"card-holder\"]}>{defaultProp(name,'john dow')}</div>\r\n          <div className = {cn[\"card-number\"]}>{replaceStarsOnNumbersCard(numberCard)}</div>\r\n          <div className = {cn[\"card-valid\"]}>{defaultProp(month,'month')}/{defaultProp(year,'year')}</div>\r\n        </div>\r\n        <div className = {cn[\"card-back\"]}>\r\n          <div className = {cn[\"card-signature\"]}>{defaultProp(name,'john dow')}</div>\r\n          <div className = {cn[\"card-seccode\"]}>{defaultProp(ccv,'***')}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;","// extracted by mini-css-extract-plugin\nexport default {\"App\":\"PaymentForm_App__lTd-u\",\"visually-hidden\":\"PaymentForm_visually-hidden__rw7Co\",\"wrapper\":\"PaymentForm_wrapper__lHJVU\",\"bg\":\"PaymentForm_bg__mOdR2\",\"content\":\"PaymentForm_content__yaqd7\",\"card\":\"PaymentForm_card__8gAjf\",\"card__info\":\"PaymentForm_card__info__+HPy-\",\"error\":\"PaymentForm_error__rj0hX\",\"selects-wrapper\":\"PaymentForm_selects-wrapper__S66qk\",\"select\":\"PaymentForm_select__kRXoQ\",\"valid-title\":\"PaymentForm_valid-title__jqIIS\",\"ccv\":\"PaymentForm_ccv__Ptt2E\",\"btn-submit\":\"PaymentForm_btn-submit__QKuhV\",\"pulse\":\"PaymentForm_pulse__boSGn\"};","export const renderOptionMonths = Array(12)\r\n  .fill(0)\r\n  .map((item, index) => <option key = {index}\r\n                                value = {`${index + 1}`.padStart(2, '0')}>{`${index + 1}`.padStart(2, '0')}</option>)\r\n\r\nexport const renderOptionYears = Array(10)\r\n  .fill(new Date().getFullYear())\r\n  .map((item, index) => <option key = {index} value = {`${item + index}`}>{`${item + index}`}</option>)\r\n\r\n\r\nexport const dateNow = `${new Date().getFullYear()}-${(new Date().getMonth() + 1).toString().padStart(2, '0')}`","import React from 'react';\r\nimport {useForm} from \"react-hook-form\";\r\n\r\nimport cn from \"../PaymentForm.module.scss\";\r\nimport {dateNow, renderOptionMonths, renderOptionYears} from \"utils/formattingDate\";\r\n\r\n\r\nconst Form = (props) => {\r\n  let {\r\n    register,\r\n    formState: {\r\n      errors, isValid\r\n    },\r\n    handleSubmit,\r\n    reset,\r\n  } = useForm({\r\n      mode: 'onBlur',\r\n      defaultValues: {\r\n        cardNumber: '',\r\n        name: '',\r\n        ccv: '',\r\n        cardValidityPeriod: {\r\n          month: '',\r\n          year: ''\r\n        }\r\n      }\r\n    }\r\n  );\r\n\r\n  const {\r\n    numberCard,\r\n    name,\r\n    ccv,\r\n    setCcv,\r\n    setName,\r\n    handleSetCardNumber,\r\n    handleFocus,\r\n    handleBlur,\r\n    cardValidityPeriod,\r\n    setCardValidityPeriod,\r\n    setShowModalPaymentForm,\r\n    setShowConfirmModal\r\n  } = props\r\n\r\n\r\n  const onSubmit = () => {\r\n    setShowModalPaymentForm(false);\r\n    setShowConfirmModal(true);\r\n    reset();\r\n  }\r\n\r\n  const setNameField = (e) => {\r\n    let value = e.target.value.replace(/[^a-zA-Z]+/g, '')\r\n    setName(value)\r\n  }\r\n\r\n    const validDate = () => {\r\n        const {year,month} = cardValidityPeriod;\r\n        const [currentYear,currentMonth] = dateNow.split('-');\r\n        if(year && month){\r\n          return (month && year > currentYear) || (month >= currentMonth && year >= currentYear);\r\n        }\r\n    }\r\n\r\n   const getErrors = () => {\r\n     if (validDate()) {\r\n       const {month, year, ...rest} = errors;\r\n       errors = {...rest}\r\n     }\r\n     return errors\r\n   }\r\n\r\n  return (\r\n    <form onSubmit = {handleSubmit(onSubmit)}>\r\n      <label htmlFor = \"\">\r\n        <input type = \"tel\"\r\n               inputMode = \"numeric\"\r\n               autoComplete = \"cc-number\"\r\n               value = {numberCard}\r\n               placeholder = {'xxxx xxxx xxxx xxxx'}\r\n               {...register('cardNumber', {\r\n                 required: \"The field is required\",\r\n                 onChange: handleSetCardNumber,\r\n                 pattern: {\r\n                   value: /[\\d| ]{19}/,\r\n                   message: 'The card number must contain 16 digits'\r\n                 }\r\n               })}\r\n        />\r\n      </label>\r\n      <div className = {cn.error}>{errors?.cardNumber &&\r\n        <p>{errors?.cardNumber?.message || 'you have entered incorrect data'}</p>}</div>\r\n      <p className = {cn['valid-title']}>valid thru</p>\r\n      <div className = {cn['selects-wrapper']}>\r\n        <select\r\n          className = {cn.select}\r\n          {...register('month', {\r\n            required: \"The fields is required\",\r\n            onChange: (e) => setCardValidityPeriod({...cardValidityPeriod,month: e.target.value}),\r\n            validate: {\r\n              validateNumber: () => validDate(),\r\n            },\r\n          })}\r\n        >\r\n          <option value = \"\" disabled = \"\">month</option>\r\n          {renderOptionMonths}\r\n        </select>\r\n        <select\r\n          className = {cn.select}\r\n          {...register('year', {\r\n            required: \"The fields is required\",\r\n            onChange: (e) => setCardValidityPeriod({...cardValidityPeriod,year: e.target.value}),\r\n            validate: {\r\n              validateNumber: () => validDate(),\r\n            },\r\n\r\n          })}\r\n        >\r\n          <option value = \"\" disabled=\"\">year</option>\r\n          {renderOptionYears}\r\n        </select>\r\n      </div>\r\n      <div className = {cn.error}>\r\n        {(getErrors()?.month || getErrors()?.year) &&\r\n        <p>{errors?.month?.message || errors?.year?.message || 'check and re-enter the month and year in both fields'}</p>}\r\n        </div>\r\n      <label htmlFor = \"\">\r\n        <input type = \"text\"\r\n               inputMode = \"text\"\r\n               value = {name}\r\n               placeholder = \"name\"\r\n               {...register('name', {\r\n                 required: \"The field is required\",\r\n                 onChange: setNameField,\r\n                 minLength: {\r\n                   value: 2,\r\n                   message: 'The name field must contain more than 2 character'\r\n                 },\r\n                 pattern: {\r\n                   value: /[a-zA-Z]/,\r\n                   message: 'Only Latin characters are allowed'\r\n                 }\r\n               })}\r\n        />\r\n      </label>\r\n      <div className = {cn.error}>{errors?.name &&\r\n        <p>{errors?.name?.message || 'you have entered incorrect data'}</p>}</div>\r\n      <label htmlFor = \"\">\r\n        <input type = \"text\"\r\n               className = {cn.ccv}\r\n               inputMode = \"numeric\"\r\n               placeholder = \"ccv\"\r\n               value = {ccv}\r\n               onFocus = {handleFocus}\r\n               {...register('ccv', {\r\n                 required: \"The field is required\",\r\n                 onChange: setCcv,\r\n                 onBlur: handleBlur,\r\n                 maxLength: {\r\n                   value: 3,\r\n                   message: 'The card number must contain 3 digits'\r\n                 },\r\n                 minLength: {\r\n                   value: 3,\r\n                   message: 'The card number must contain 3 digits'\r\n                 },\r\n               })}\r\n        />\r\n      </label>\r\n      <div className = {cn.error}>{errors?.ccv &&\r\n        <p>{errors?.ccv?.message || 'you have entered incorrect data'}</p>}</div>\r\n      <button title = \"Pay\" onSubmit = {handleSubmit(onSubmit)} className = {cn['btn-submit']} type = \"submit\"\r\n              disabled={!isValid}\r\n             >\r\n        pay\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;","import {useState} from 'react';\r\n\r\nimport {normalizeCardNumber} from \"utils/normalizeCardNumber\";\r\n\r\nconst usePayment = () => {\r\n\r\n  const [numberCard, setNumberCard] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [ccv, setValueCcv] = useState('');\r\n  const [turnClass, setTurnCLass] = useState('');\r\n  const [cardValidityPeriod, setCardValidityPeriod] = useState({month:'', year:''});\r\n\r\n  const handleFocus = () => {\r\n    setTurnCLass('turned')\r\n  }\r\n\r\n  const handleBlur = () => {\r\n    setTurnCLass('')\r\n  }\r\n\r\n  const handleSetCardNumber = (e) => {\r\n    const {value} = e.target\r\n    e.target.value = normalizeCardNumber(value);\r\n    setNumberCard(e.target.value)\r\n  }\r\n\r\n  const setCcv = (e) => {\r\n    let value = e.target?.value.replace(/[^\\d]/g,'').slice(0,3)\r\n    setValueCcv(value)\r\n  }\r\n\r\n  return {\r\n    numberCard,\r\n    name,\r\n    ccv,\r\n    turnClass,\r\n    setNumberCard,\r\n    setCcv,\r\n    setName,\r\n    cardValidityPeriod,\r\n    setCardValidityPeriod,\r\n    handleSetCardNumber,\r\n    handleFocus,\r\n    handleBlur,\r\n  };\r\n};\r\n\r\nexport default usePayment;","export const normalizeCardNumber = (value) => {\r\n  return value.replace(/[^\\d]/g,'').match(/.{1,4}/g)?.join(\" \").substring(0, 19) || \"\"\r\n}","import React from 'react';\r\n\r\nimport {ModalLayout} from \"../../ModalLayout\";\r\n\r\nimport {Card} from \"./Card\";\r\nimport {Form} from \"./Form\";\r\nimport cn from './PaymentForm.module.scss'\r\nimport usePayment from \"./hook/usePayment\";\r\n\r\n\r\nconst PaymentForm = ({showModalPaymentForm, setShowModalPaymentForm, setShowConfirmModal}) => {\r\n\r\n  const {turnClass,...restProps} = usePayment();\r\n  const {numberCard,name, ccv,cardValidityPeriod} = restProps;\r\n\r\n  const formProps = {\r\n    setShowModalPaymentForm,\r\n    setShowConfirmModal,\r\n    ...restProps\r\n  }\r\n\r\n  return (\r\n    <div className = {cn.wrapper}>\r\n      <ModalLayout bg = {cn.bg} content = {cn.content} show = {showModalPaymentForm}\r\n                   setShow = {() => setShowModalPaymentForm(false)} modal = {cn.wrapper}>\r\n        <Card numberCard = {numberCard}\r\n              cardValidityPeriod={cardValidityPeriod}\r\n              name = {name} ccv = {ccv}\r\n              turnClass = {turnClass} />\r\n        <Form {...formProps} />\r\n      </ModalLayout>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default PaymentForm;"],"names":["show","setShow","children","bg","content","modal","open","onClose","className","MotionMain","initial","opacity","scale","transition","duration","ease","animate","classname","replaceStarsOnNumbersCard","numberCard","arr","i","length","join","name","ccv","turnClass","cardValidityPeriod","defaultProp","prop","value","year","month","cn","xmlns","width","height","fill","stroke","strokeWidth","strokeLinecap","d","renderOptionMonths","Array","map","item","index","padStart","renderOptionYears","Date","getFullYear","dateNow","getMonth","toString","props","useForm","mode","defaultValues","cardNumber","register","formState","errors","isValid","handleSubmit","reset","setCcv","setName","handleSetCardNumber","handleFocus","handleBlur","setCardValidityPeriod","setShowModalPaymentForm","setShowConfirmModal","onSubmit","validDate","split","currentYear","currentMonth","getErrors","rest","htmlFor","type","inputMode","autoComplete","placeholder","required","onChange","pattern","message","e","target","validate","validateNumber","disabled","replace","minLength","onFocus","onBlur","maxLength","title","useState","setNumberCard","setValueCcv","setTurnCLass","slice","match","substring","normalizeCardNumber","showModalPaymentForm","usePayment","restProps","formProps","ModalLayout"],"sourceRoot":""}