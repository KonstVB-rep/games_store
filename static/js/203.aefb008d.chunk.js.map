{"version":3,"file":"static/js/203.aefb008d.chunk.js","mappings":"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","sources":["components/CartPageComponents/PaymentForm/hooks/usePaymentContext.jsx","webpack://game_store/./src/components/TitleEmptyPage/styles.module.scss?10ad","components/TitleEmptyPage/index.jsx","components/CartPageComponents/PaymentForm/hooks/usePayment.jsx","utils/normalizeCardNumber.js","contexts/PaymentContextProvider/index.jsx","webpack://game_store/./src/components/CartPageComponents/CartItem/styles.module.scss?257e","components/CartPageComponents/CartItem/index.jsx","webpack://game_store/./src/components/CartPageComponents/CartList/styles.module.scss?42e1","components/CartPageComponents/CartList/index.jsx","webpack://game_store/./src/components/CartPageComponents/MakingOrder/styles.module.scss?0b65","components/CartPageComponents/MakingOrder/index.jsx","components/CartPageComponents/PaymentGroup/index.jsx","webpack://game_store/./src/pages/CartPage/styles.module.scss?d1a8","pages/CartPage/index.jsx"],"sourcesContent":["import { useContext } from 'react';\r\n\r\nimport { PaymentContext } from 'contexts/PaymentContextProvider';\r\n\r\nconst usePaymentContext = () => {\r\n    return useContext(PaymentContext);\r\n};\r\n\r\nexport default usePaymentContext;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"styles_title__PoZnt\"};","import React from 'react';\r\n\r\nimport cn from \"./styles.module.scss\";\r\n\r\nconst TitleEmptyPage = ({text}) => {\r\n  return (\r\n    <>\r\n      <h1 className = {cn.title}>{text}</h1>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TitleEmptyPage;","import { useState } from 'react';\r\n\r\nimport { normalizeCardNumber } from 'utils/normalizeCardNumber';\r\n\r\nimport useVisible from '../../../../hooks/useVisible';\r\n\r\nconst usePayment = () => {\r\n    const [isShowPaymentForm, setIsShowPaymentForm] = useVisible();\r\n    const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n    const [numberCard, setNumberCard] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [ccv, setValueCcv] = useState('');\r\n    const [turnClass, setTurnCLass] = useState('');\r\n    const [cardValidityPeriod, setCardValidityPeriod] = useState({ month: '', year: '' });\r\n    const handleFocus = () => {\r\n        setTurnCLass('turned');\r\n    };\r\n\r\n    const handleBlur = () => {\r\n        setTurnCLass('');\r\n    };\r\n\r\n    const handleSetCardNumber = (e) => {\r\n        const { value } = e.target;\r\n        e.target.value = normalizeCardNumber(value);\r\n        setNumberCard(e.target.value);\r\n    };\r\n\r\n    const setCcv = (e) => {\r\n        let value = e.target?.value.replace(/[^\\d]/g, '').slice(0, 3);\r\n        setValueCcv(value);\r\n    };\r\n\r\n    return {\r\n        numberCard,\r\n        name,\r\n        ccv,\r\n        turnClass,\r\n        setNumberCard,\r\n        setCcv,\r\n        setName,\r\n        cardValidityPeriod,\r\n        setCardValidityPeriod,\r\n        handleSetCardNumber,\r\n        handleFocus,\r\n        handleBlur,\r\n        isShowPaymentForm,\r\n        setIsShowPaymentForm,\r\n        showConfirmModal,\r\n        setShowConfirmModal,\r\n    };\r\n};\r\n\r\nexport default usePayment;\r\n","export const normalizeCardNumber = (value) => {\r\n    return (\r\n        value\r\n            .replace(/[^\\d]/g, '')\r\n            .match(/.{1,4}/g)\r\n            ?.join(' ')\r\n            .substring(0, 19) || ''\r\n    );\r\n};\r\n","import { createContext } from 'react';\r\n\r\nimport usePayment from 'components/CartPageComponents/PaymentForm/hooks/usePayment';\r\n\r\nexport const PaymentContext = createContext(null);\r\n\r\nconst PaymentContextProvider = ({ children }) => {\r\n    const value = {\r\n        ...usePayment(),\r\n    };\r\n\r\n    return <PaymentContext.Provider value={value}>{children}</PaymentContext.Provider>;\r\n};\r\n\r\nexport default PaymentContextProvider;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"styles_card__E3osZ\",\"poster\":\"styles_poster__PwbJM\",\"poster__img\":\"styles_poster__img__98HRE\",\"title\":\"styles_title__VDdP2\",\"price\":\"styles_price__t27qj\"};","import { memo } from 'react';\r\n\r\nimport { ButtonAddRemove } from 'components/ui/Buttons';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { selectCurrentItem } from 'store/cart/cartSlice';\r\n\r\nimport { currency } from 'constants/currency';\r\n\r\nimport cn from './styles.module.scss';\r\n\r\nconst CartItem = memo(({ id }) => {\r\n    const game = useSelector(selectCurrentItem(id));\r\n\r\n    return (\r\n        <div className={cn.card}>\r\n            <div className={cn.poster}>\r\n                <img src={game.img} className={cn.poster__img} loading=\"lazy\" alt=\"\" />\r\n            </div>\r\n\r\n            <div className={cn.title}>\r\n                <Link to={`/games/${game.slug}`} title=\"Go to the game page\">\r\n                    {game.name}\r\n                </Link>\r\n            </div>\r\n\r\n            <ButtonAddRemove game={game} />\r\n\r\n            <div className={cn.price}>\r\n                {game.totalCount * game.price} {currency}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default CartItem;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"card-list\":\"styles_card-list__+uaLA\",\"wrapper\":\"styles_wrapper__b1vLN\"};","import React from 'react';\r\n\r\nimport { useCallback } from 'react';\r\n\r\nimport TitleEmptyPage from 'components/TitleEmptyPage';\r\nimport { Button } from 'components/ui/Buttons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { clearCartList } from 'store/cart/cartSlice';\r\n\r\nimport CartItem from '../CartItem';\r\n\r\nimport cn from './styles.module.scss';\r\n\r\nconst CartList = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const clearCart = useCallback(() => {\r\n        dispatch(clearCartList());\r\n    }, [dispatch]);\r\n\r\n    const { cartList } = useSelector((state) => state.cart);\r\n\r\n    const renderCardsList = cartList.map((item) => <CartItem key={item.id} id={item.id} />);\r\n\r\n    return (\r\n        <section className={cn['card-list']}>\r\n            {cartList.length ? (\r\n                <>\r\n                    <h1 className=\"visually-hidden\">List of game orders</h1>\r\n                    <div className={cn.wrapper}>{renderCardsList}</div>\r\n                </>\r\n            ) : (\r\n                <TitleEmptyPage text=\"The shopping cart is empty\" />\r\n            )}\r\n\r\n            {cartList.length > 0 && (\r\n                <Button\r\n                    title=\"clear cart\"\r\n                    className=\"silver\"\r\n                    onClick={clearCart}\r\n                    ariaLabel=\"clear cart\"\r\n                >\r\n                    clear cart\r\n                </Button>\r\n            )}\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default CartList;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"styles_wrapper__Q3VfJ\",\"total-price\":\"styles_total-price__ds-L8\",\"price\":\"styles_price__ykMhT\"};","import React from 'react';\r\n\r\nimport { Button } from 'components/ui/Buttons';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { selectTotalPrice } from 'store/cart/cartSlice';\r\n\r\nimport { currency } from 'constants/currency';\r\n\r\nimport usePaymentContext from '../PaymentForm/hooks/usePaymentContext';\r\n\r\nimport cn from './styles.module.scss';\r\n\r\nconst TotalPrice = () => {\r\n    const totalPrice = useSelector(selectTotalPrice);\r\n\r\n    return (\r\n        <p className={cn['total-price']}>\r\n            <span className={cn.price}>\r\n                Total price: {totalPrice} {currency}\r\n            </span>\r\n        </p>\r\n    );\r\n};\r\n\r\nconst MakingOrder = () => {\r\n    const { isShowPaymentForm, setIsShowPaymentForm } = usePaymentContext();\r\n\r\n    const length = useSelector((state) => state.cart.cartList.length);\r\n\r\n    return (\r\n        <>\r\n            {length ? (\r\n                <>\r\n                    <div className={cn.wrapper}>\r\n                        <TotalPrice />\r\n                        <Button\r\n                            className=\"order-button\"\r\n                            onClick={() => setIsShowPaymentForm(!isShowPaymentForm)}\r\n                            ariaLabel=\"place an order\"\r\n                        >\r\n                            place on order\r\n                        </Button>\r\n                    </div>\r\n                </>\r\n            ) : null}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default MakingOrder;\r\n","import React, { Suspense } from 'react';\r\n\r\nimport MakingOrder from '../MakingOrder';\r\nimport usePaymentContext from '../PaymentForm/hooks/usePaymentContext';\r\n\r\nconst OrderModal = React.lazy(() => import('../OrderModal'));\r\n\r\nconst PaymentForm = React.lazy(() => import('../PaymentForm'));\r\n\r\nconst PaymentGroup = () => {\r\n    const { isShowPaymentForm } = usePaymentContext();\r\n\r\n    return (\r\n        <>\r\n            {isShowPaymentForm && (\r\n                <Suspense fallback={null}>\r\n                    <PaymentForm />\r\n                </Suspense>\r\n            )}\r\n\r\n            <MakingOrder />\r\n\r\n            <Suspense fallback={null}>\r\n                <OrderModal />\r\n            </Suspense>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PaymentGroup;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"styles_main__8j8M4\",\"section\":\"styles_section__9UEDN\"};","import { CartList, PaymentGroup } from 'components/CartPageComponents';\r\nimport MotionContainer from 'components/MotionContainer';\r\nimport PaymentContextProvider from 'contexts/PaymentContextProvider';\r\n\r\nimport cn from './styles.module.scss';\r\n\r\nconst CartPage = () => {\r\n    return (\r\n        <div className=\"container\">\r\n            <MotionContainer className={cn.main}>\r\n                <div className={cn.section}>\r\n                    <CartList />\r\n\r\n                    <PaymentContextProvider>\r\n                        <PaymentGroup />\r\n                    </PaymentContextProvider>\r\n                </div>\r\n            </MotionContainer>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CartPage;\r\n"],"names":["useContext","PaymentContext","text","className","cn","useVisible","isShowPaymentForm","setIsShowPaymentForm","useState","showConfirmModal","setShowConfirmModal","numberCard","setNumberCard","name","setName","ccv","setValueCcv","turnClass","setTurnCLass","month","year","cardValidityPeriod","setCardValidityPeriod","setCcv","e","value","target","replace","slice","handleSetCardNumber","match","join","substring","normalizeCardNumber","handleFocus","handleBlur","createContext","children","usePayment","Provider","memo","id","game","useSelector","selectCurrentItem","src","img","loading","alt","to","slug","title","totalCount","price","currency","dispatch","useDispatch","clearCart","useCallback","clearCartList","cartList","state","cart","renderCardsList","map","item","length","TitleEmptyPage","onClick","ariaLabel","TotalPrice","totalPrice","selectTotalPrice","usePaymentContext","OrderModal","React","PaymentForm","Suspense","fallback","MotionContainer","PaymentContextProvider"],"sourceRoot":""}