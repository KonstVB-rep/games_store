{"version":3,"file":"static/js/229.0fce1af7.chunk.js","mappings":"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","sources":["components/OrderPageComponents/PaymentForm/hooks/usePayment.jsx","utils/normalizeCardNumber.js","components/OrderPageComponents/PaymentContext/PaymentContext.jsx","components/OrderPageComponents/PaymentForm/hooks/usePaymentContext.jsx","webpack://game_store/./src/components/TitleEmptyPage/TitleEmptyPage.module.scss?69e1","components/TitleEmptyPage/TitleEmptyPage.jsx","webpack://game_store/./src/components/OrderPageComponents/OrderItem/OrderItem.module.scss?89b8","components/OrderPageComponents/OrderItem/OrderItem.jsx","webpack://game_store/./src/pages/OrderPage/OrderPage.module.scss?af40","components/OrderPageComponents/OrderList/OrderList.jsx","components/OrderPageComponents/ClearButton/ClearButton.jsx","webpack://game_store/./src/components/OrderPageComponents/MakingOrder/MakingOrder.module.scss?fae8","components/OrderPageComponents/MakingOrder/MakingOrder.jsx","components/OrderPageComponents/PaymentGroup/PaymentGroup.jsx","pages/OrderPage/OrderPage.jsx"],"sourcesContent":["import {useState} from 'react';\r\n\r\nimport {normalizeCardNumber} from \"utils/normalizeCardNumber\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport useVisible from \"../../../../hooks/useVisible\";\r\nimport {clearCartList} from \"../../../../store/cart/cartSlice\";\r\n\r\nconst usePayment = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [isShowPaymentForm, setIsShowPaymentForm] = useVisible(() => dispatch(clearCartList()))\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n  const [numberCard, setNumberCard] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [ccv, setValueCcv] = useState('');\r\n  const [turnClass, setTurnCLass] = useState('');\r\n  const [cardValidityPeriod, setCardValidityPeriod] = useState({month:'', year:''});\r\n\r\n  const handleFocus = () => {\r\n    setTurnCLass('turned')\r\n  }\r\n\r\n  const handleBlur = () => {\r\n    setTurnCLass('')\r\n  }\r\n\r\n  const handleSetCardNumber = (e) => {\r\n    const {value} = e.target\r\n    e.target.value = normalizeCardNumber(value);\r\n    setNumberCard(e.target.value)\r\n  }\r\n\r\n  const setCcv = (e) => {\r\n    let value = e.target?.value.replace(/[^\\d]/g,'').slice(0,3)\r\n    setValueCcv(value)\r\n  }\r\n\r\n  return {\r\n    numberCard,\r\n    name,\r\n    ccv,\r\n    turnClass,\r\n    setNumberCard,\r\n    setCcv,\r\n    setName,\r\n    cardValidityPeriod,\r\n    setCardValidityPeriod,\r\n    handleSetCardNumber,\r\n    handleFocus,\r\n    handleBlur,\r\n    isShowPaymentForm,\r\n    setIsShowPaymentForm,\r\n    showConfirmModal,\r\n    setShowConfirmModal\r\n  };\r\n};\r\n\r\nexport default usePayment;","export const normalizeCardNumber = (value) => {\r\n  return value.replace(/[^\\d]/g,'').match(/.{1,4}/g)?.join(\" \").substring(0, 19) || \"\"\r\n}","import React, {createContext} from 'react';\r\nimport usePayment from \"../PaymentForm/hooks/usePayment\";\r\n\r\nexport const PaymentContext = createContext(null)\r\n\r\nconst OrderContextProvider = ({children}) => {\r\n\r\n  const value = {\r\n    ...usePayment()\r\n  }\r\n\r\n  return (\r\n    <PaymentContext.Provider value={value}>\r\n      {children}\r\n    </PaymentContext.Provider>\r\n  );\r\n};\r\n\r\nexport default OrderContextProvider;","import React, {useContext} from 'react';\r\nimport {PaymentContext} from \"../../PaymentContext/PaymentContext\";\r\n\r\nconst usePaymentContext = () => {\r\n  return useContext(PaymentContext);\r\n};\r\n\r\nexport default usePaymentContext;","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"TitleEmptyPage_title__+8NEh\"};","import React from 'react';\r\n\r\nimport cn from \"./TitleEmptyPage.module.scss\";\r\n\r\nconst TitleEmptyPage = ({text}) => {\r\n  return (\r\n    <>\r\n      <h1 className = {cn.title}>{text}</h1>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TitleEmptyPage;","// extracted by mini-css-extract-plugin\nexport default {\"App\":\"OrderItem_App__BPH4W\",\"visually-hidden\":\"OrderItem_visually-hidden__Xb3dd\",\"card\":\"OrderItem_card__2q7Bc\",\"title\":\"OrderItem_title__c+-9Y\",\"price\":\"OrderItem_price__h41JP\"};","import React, {memo} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nimport {ButtonAddRemove} from \"../../Buttons/ButtonAddRemove\";\r\nimport {currency} from \"constants/currency\";\r\nimport {selectCurrentItem} from \"store/cart/cartSlice\";\r\n\r\nimport cn from './OrderItem.module.scss'\r\n\r\nconst OrderItem = memo(({id}) => {\r\n\r\n  const game = useSelector(selectCurrentItem(id))\r\n\r\n  return (\r\n    <div className = {cn.card}>\r\n      <div className = {cn.title}>\r\n        <Link to= {`/games/${game.slug}`} title='Go to the game page'>\r\n        {game.name}\r\n        </Link>\r\n      </div>\r\n      <ButtonAddRemove\r\n        game={game}\r\n      />\r\n      <div className = {cn.price}>{game.totalCount * game.price} {currency}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default OrderItem;","// extracted by mini-css-extract-plugin\nexport default {\"App\":\"OrderPage_App__b45HH\",\"visually-hidden\":\"OrderPage_visually-hidden__qjJq0\",\"main\":\"OrderPage_main__t2XSo\",\"section\":\"OrderPage_section__tXS+z\",\"button_clear\":\"OrderPage_button_clear__rMFjJ\",\"card-list\":\"OrderPage_card-list__Ya1ix\",\"wrapper\":\"OrderPage_wrapper__pBUPy\",\"btn-wrapper\":\"OrderPage_btn-wrapper__4mMWo\"};","import React from 'react';\r\nimport {useSelector} from \"react-redux\";\r\n\r\nimport {OrderItem} from \"../OrderItem\";\r\nimport TitleEmptyPage from \"../../TitleEmptyPage/TitleEmptyPage\";\r\nimport cn from \"pages/OrderPage/OrderPage.module.scss\";\r\n\r\n\r\n\r\nconst OrderList = () => {\r\n\r\n  const {cartList} = useSelector(state => state.cart)\r\n\r\n  const renderCardsList = cartList.map(item => <OrderItem key={item.id} id={item.id}/>)\r\n\r\n\r\n  return (\r\n    <section className={cn['card-list']}>\r\n        {cartList.length ?\r\n          <>\r\n            <h1 className='visually-hidden'>List of game orders</h1>\r\n            <div className={cn.wrapper}>\r\n              {renderCardsList}\r\n            </div>\r\n          </>\r\n            :\r\n          <TitleEmptyPage text ='The shopping cart is empty'/>}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default OrderList;","import React, {useCallback} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\n\r\nimport {Button} from \"../../Buttons/Button\";\r\nimport {clearCartList, selectAllItemsCart} from \"store/cart/cartSlice\";\r\nimport cn from \"pages/OrderPage/OrderPage.module.scss\";\r\n\r\nconst ClearButton = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const amountGamesInCart = useSelector(selectAllItemsCart)\r\n\r\n  const clearCart = useCallback(() => {\r\n    dispatch(clearCartList())\r\n  },[])\r\n\r\n  return (\r\n    <>\r\n      {amountGamesInCart > 0 && <div className = {cn['btn-wrapper']}>\r\n        <Button title = \"clear cart\" classname = \"silver\" onClick = {clearCart} ariaLabel = \"clear cart\">\r\n          clear cart</Button>\r\n      </div> }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ClearButton;","// extracted by mini-css-extract-plugin\nexport default {\"App\":\"MakingOrder_App__-0fJo\",\"visually-hidden\":\"MakingOrder_visually-hidden__hLRx3\",\"wrapper\":\"MakingOrder_wrapper__BvwVn\",\"total-price\":\"MakingOrder_total-price__Bw6lt\",\"price\":\"MakingOrder_price__UnM7t\"};","import React from 'react';\r\nimport {useSelector} from \"react-redux\";\r\n\r\nimport {Button} from \"../../Buttons/Button\";\r\nimport { selectTotalPrice} from \"store/cart/cartSlice\";\r\nimport {currency} from \"constants/currency\";\r\n\r\nimport cn from './MakingOrder.module.scss'\r\nimport usePaymentContext from \"../PaymentForm/hooks/usePaymentContext\";\r\n\r\n\r\nconst TotalPrice = () => {\r\n\r\n  const totalPrice = useSelector(selectTotalPrice);\r\n\r\n  return (\r\n    <p className = {cn[\"total-price\"]}>\r\n      <span className = {cn.price}>\r\n           Total price: {totalPrice} {currency}\r\n      </span>\r\n    </p>\r\n  )\r\n}\r\n\r\n\r\nconst MakingOrder = () => {\r\n\r\n  const {isShowPaymentForm, setIsShowPaymentForm} = usePaymentContext()\r\n\r\n  const length = useSelector(state => state.cart.cartList.length);\r\n\r\n  return (\r\n\r\n    <>\r\n      {length ?\r\n        <>\r\n          <div className = {cn.wrapper}>\r\n            <TotalPrice />\r\n            <Button classname = \"order-button\" onClick = {() => setIsShowPaymentForm(!isShowPaymentForm)} ariaLabel='place an order'>place on order</Button>\r\n          </div>\r\n        </> : null\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MakingOrder;","import React, {Suspense} from 'react';\r\nimport {MakingOrder} from \"../MakingOrder\";\r\nimport usePaymentContext from \"../PaymentForm/hooks/usePaymentContext\";\r\n\r\nconst OrderModal = React.lazy(() => import(\"../OrderModal\").then((module) => ({\r\n  default: module.OrderModal\r\n})))\r\n\r\nconst PaymentForm = React.lazy(() => import(\"../PaymentForm\").then((module) => ({\r\n  default: module.PaymentForm\r\n})))\r\n\r\nconst PaymentGroup = () => {\r\n\r\n  const {isShowPaymentForm} = usePaymentContext()\r\n\r\n  return (\r\n    <>\r\n        {isShowPaymentForm &&\r\n          <Suspense fallback = {null}>\r\n            <PaymentForm />\r\n          </Suspense>\r\n         }\r\n        <MakingOrder />\r\n      <Suspense fallback = {null}>\r\n        <OrderModal />\r\n      </Suspense>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PaymentGroup;","import React from 'react';\r\n\r\nimport {OrderList} from \"../../components/OrderPageComponents/OrderList\";\r\nimport MotionMain from \"../../components/MotionMain/MotionMain\";\r\nimport {ClearButton} from \"../../components/OrderPageComponents/ClearButton\";\r\nimport {PaymentGroup} from \"../../components/OrderPageComponents/PaymentGroup\";\r\n\r\nimport cn from './OrderPage.module.scss';\r\nimport OrderContextProvider from \"../../components/OrderPageComponents/PaymentContext/PaymentContext\";\r\n\r\n\r\nconst OrderPage = () => {\r\n\r\n  return (\r\n    <MotionMain classname = {cn.main}>\r\n      <div className = {cn.section}>\r\n        <ClearButton />\r\n        <OrderList />\r\n        <OrderContextProvider>\r\n            <PaymentGroup />\r\n        </OrderContextProvider>\r\n      </div>\r\n    </MotionMain>\r\n  );\r\n};\r\n\r\nexport default OrderPage;"],"names":["dispatch","useDispatch","useVisible","clearCartList","isShowPaymentForm","setIsShowPaymentForm","useState","showConfirmModal","setShowConfirmModal","numberCard","setNumberCard","name","setName","ccv","setValueCcv","turnClass","setTurnCLass","month","year","cardValidityPeriod","setCardValidityPeriod","setCcv","e","value","target","replace","slice","handleSetCardNumber","match","join","substring","normalizeCardNumber","handleFocus","handleBlur","PaymentContext","createContext","children","usePayment","Provider","useContext","text","className","cn","memo","id","game","useSelector","selectCurrentItem","to","slug","title","ButtonAddRemove","totalCount","price","currency","cartList","state","cart","renderCardsList","map","item","length","TitleEmptyPage","amountGamesInCart","selectAllItemsCart","clearCart","useCallback","Button","classname","onClick","ariaLabel","TotalPrice","totalPrice","selectTotalPrice","usePaymentContext","OrderModal","React","then","module","default","PaymentForm","Suspense","fallback","MotionMain"],"sourceRoot":""}