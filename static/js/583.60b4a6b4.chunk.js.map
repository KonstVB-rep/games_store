{"version":3,"file":"static/js/583.60b4a6b4.chunk.js","mappings":"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","sources":["pages/ShopPage/hooks/useLoadGames.jsx","webpack://game_store/./src/components/ShopPageComponents/GameCard/styles.module.scss?79a9","components/ShopPageComponents/GameCard/index.jsx","components/ShopPageComponents/GamesList/index.jsx","webpack://game_store/./src/components/ShopPageComponents/Select/styles.module.scss?fd86","components/ShopPageComponents/Select/index.jsx","webpack://game_store/./src/components/ShopPageComponents/Skeleton/styles.module.scss?829c","components/ShopPageComponents/Skeleton/index.jsx","webpack://game_store/./src/components/ShopPageComponents/Content/styles.module.scss?7702","components/ShopPageComponents/Content/index.jsx","webpack://game_store/./src/pages/ShopPage/styles.module.scss?e0be","pages/ShopPage/index.jsx"],"sourcesContent":["import { useEffect } from 'react';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport {\r\n    loadGames,\r\n    rememberCurrentPage,\r\n    rememberCountPage,\r\n    loadGenres,\r\n} from 'store/games/gamesSlice';\r\n\r\nimport { PATH } from 'constants/api';\r\n\r\nconst useLoadGames = (genre) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { currentPage, countPage, isEnd, gamesList, genres, currentGenre } = useSelector(\r\n        (state) => state.games\r\n    );\r\n\r\n    const handleClick = () => {\r\n        if (currentGenre !== 'all') {\r\n            dispatch(loadGames(PATH.GAMES_BY_GENRE(currentGenre, currentPage + 1)));\r\n        } else {\r\n            dispatch(loadGames(PATH.GAMES_URL(currentPage + 1)));\r\n        }\r\n        dispatch(rememberCurrentPage(currentPage + 1));\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(loadGenres(PATH.GAME_GENRES()));\r\n        if (currentGenre !== 'all') {\r\n            dispatch(loadGames(PATH.GAMES_BY_GENRE(currentGenre, currentPage)));\r\n        } else {\r\n            dispatch(loadGames(PATH.GAMES_URL(currentPage)));\r\n        }\r\n        return () => dispatch(rememberCountPage());\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (genre === 'all') {\r\n            dispatch(loadGames(PATH.GAMES_URL(currentPage)));\r\n        } else {\r\n            dispatch(loadGames(PATH.GAMES_BY_GENRE(genre, currentPage)));\r\n        }\r\n        return () => dispatch(rememberCountPage());\r\n    }, [countPage, genre]);\r\n\r\n    return {\r\n        isEnd,\r\n        handleClick,\r\n        gamesList,\r\n        genres,\r\n    };\r\n};\r\n\r\nexport default useLoadGames;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"styles_card__usszz\",\"skeleton\":\"styles_skeleton__YCTJ3\",\"details\":\"styles_details__nx6Rn\",\"title\":\"styles_title__l5EO6\",\"details__secondary\":\"styles_details__secondary__G27ms\",\"wrapper\":\"styles_wrapper__dpfSS\",\"img\":\"styles_img__3mK0f\"};","import { memo } from 'react';\r\n\r\nimport Genres from 'components/Genres';\r\nimport PriceGameBox from 'components/PriceGameBox';\r\nimport RatingInfo from 'components/ui/RatingInfo';\r\nimport FavoriteIcon from 'components/ui/icons/FavoriteIcon';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { selectGame } from 'store/games/gamesSlice';\r\n\r\nimport cn from './styles.module.scss';\r\n\r\nconst GameCard = memo(({ id }) => {\r\n    const game = useSelector(selectGame(id));\r\n    const { name, genres, slug, img, price, ...fromRating } = game;\r\n\r\n    return (\r\n        <article className={cn.card}>\r\n            <FavoriteIcon game={game} />\r\n\r\n            <Link className={cn.wrapper} to={`/games/${slug}`} title=\"Go to the game page\">\r\n                <img src={img} alt=\"poster\" className={cn.img} loading=\"lazy\" />\r\n            </Link>\r\n\r\n            <div className={cn.details}>\r\n                <h2 className={cn.title}>{name}</h2>\r\n\r\n                <Genres genres={genres} />\r\n\r\n                <RatingInfo className={cn.details__secondary} {...fromRating} />\r\n\r\n                <PriceGameBox game={game} />\r\n            </div>\r\n        </article>\r\n    );\r\n});\r\n\r\nexport default GameCard;\r\n","import React from 'react';\r\n\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { selectAllGames } from 'store/games/gamesSlice';\r\n\r\nimport GameCard from '../GameCard';\r\n\r\nconst GamesList = () => {\r\n    const games = useSelector(selectAllGames);\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"visually-hidden\">list of game cards</h1>\r\n            {games.map(({ id }) => (\r\n                <GameCard key={id} id={id} />\r\n            ))}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default GamesList;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"styles_form__GJqlo\",\"label\":\"styles_label__dtrQ0\",\"select\":\"styles_select__WgaYY\"};","import React from 'react';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { rememberCurrentGenre, rememberCurrentPage } from 'store/games/gamesSlice';\r\n\r\nimport cn from './styles.module.scss';\r\n\r\nconst Select = ({ genres, setCurrentGenre, currentGenre }) => {\r\n    const dispatch = useDispatch();\r\n    return (\r\n        <>\r\n            <form className={cn.form}>\r\n                <label htmlFor=\"genres\" className={cn.label}>\r\n                    Select an genres\r\n                </label>\r\n                <select\r\n                    id=\"genres\"\r\n                    className={cn.select}\r\n                    defaultValue={currentGenre}\r\n                    onChange={(e) => {\r\n                        setCurrentGenre(e.target.value);\r\n                        dispatch(rememberCurrentGenre(e.target.value));\r\n                        dispatch(rememberCurrentPage(1));\r\n                    }}\r\n                >\r\n                    <option key=\"all\" value=\"all\">\r\n                        All\r\n                    </option>\r\n                    {genres.map(({ id, name, slug }) => (\r\n                        <option key={id} value={slug}>\r\n                            {name}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </form>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Select;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"skeleton__item\":\"styles_skeleton__item__O-7YP\",\"loading\":\"styles_loading__xZq6B\"};","import React from 'react';\r\n\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport cn from './styles.module.scss';\r\n\r\nconst skeletonsCount = Array(6).fill(1);\r\n\r\nconst Skeleton = () => {\r\n    const { status } = useSelector((state) => state.games);\r\n    return (\r\n        <>\r\n            {status === 'loading' && (\r\n                <>\r\n                    {skeletonsCount.map((_, i) => (\r\n                        <div key={i} className={cn.skeleton__item} />\r\n                    ))}\r\n                </>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Skeleton;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"styles_section__X29JN\",\"load-more\":\"styles_load-more__QqoHh\"};","import React, { useState } from 'react';\r\n\r\nimport MotionContainer from 'components/MotionContainer';\r\nimport useLoadGames from 'pages/ShopPage/hooks/useLoadGames';\r\n\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport GamesList from '../GamesList';\r\nimport Select from '../Select';\r\nimport Skeleton from '../Skeleton';\r\n\r\nimport cn from './styles.module.scss';\r\n\r\nconst Content = () => {\r\n    const { currentGenre, status } = useSelector((state) => state.games);\r\n    const [genre, setGenre] = useState(currentGenre);\r\n    const { handleClick, isEnd, gamesList, genres } = useLoadGames(genre);\r\n    return (\r\n        <>\r\n            <Select genres={genres} setCurrentGenre={setGenre} currentGenre={currentGenre} />\r\n            <MotionContainer className={cn.section}>\r\n                <GamesList />\r\n\r\n                <Skeleton />\r\n            </MotionContainer>\r\n\r\n            {!isEnd && status === 'fulfilled' && gamesList.length ? (\r\n                <button className={cn['load-more']} onClick={handleClick}>\r\n                    Load more\r\n                </button>\r\n            ) : null}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Content;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"styles_main__HE9C6\",\"section\":\"styles_section__bsDfL\",\"load-more\":\"styles_load-more__Hn-jq\"};","import { Content } from 'components/ShopPageComponents';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport ErrorPage from '../ErrorPage';\r\n\r\nimport cn from './styles.module.scss';\r\n\r\nconst ShopPage = () => {\r\n    const { status } = useSelector((state) => state.games);\r\n\r\n    if (status === 'rejected') return <ErrorPage id=\"error\" />;\r\n\r\n    return (\r\n        <main className={cn.main}>\r\n            <div className=\"container\">\r\n                <Content />\r\n            </div>\r\n\r\n            <div className=\"bg-shoppage\" />\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default ShopPage;\r\n"],"names":["genre","dispatch","useDispatch","useSelector","state","games","currentPage","countPage","isEnd","gamesList","genres","currentGenre","useEffect","loadGenres","PATH","loadGames","rememberCountPage","handleClick","rememberCurrentPage","memo","id","game","selectGame","name","slug","img","fromRating","price","className","cn","FavoriteIcon","to","title","src","alt","loading","Genres","RatingInfo","PriceGameBox","selectAllGames","map","setCurrentGenre","htmlFor","defaultValue","onChange","e","target","value","rememberCurrentGenre","skeletonsCount","Array","fill","status","_","i","useState","setGenre","useLoadGames","MotionContainer","length","onClick","ErrorPage"],"sourceRoot":""}