"use strict";(self.webpackChunkgame_store=self.webpackChunkgame_store||[]).push([[583],{1583:function(e,s,n){n.r(s),n.d(s,{default:function(){return I}});var r=n(9439),t=n(2791),a=n(2573),l=n(9434),i=n(5247),c=n(4477),u=function(e){var s=(0,l.I0)(),n=(0,l.v9)((function(e){return e.games})),r=n.currentPage,a=n.countPage,u=n.isEnd,m=n.gamesList,o=n.genres,_=n.currentGenre;return(0,t.useEffect)((function(){return s((0,i.kn)(c.m.GAME_GENRES())),s("all"!==_?(0,i.Wi)(c.m.GAMES_BY_GENRE(_,r)):(0,i.Wi)(c.m.GAMES_URL(r))),function(){return s((0,i.B1)())}}),[]),(0,t.useEffect)((function(){return s("all"===e?(0,i.Wi)(c.m.GAMES_URL(r)):(0,i.Wi)(c.m.GAMES_BY_GENRE(e,r))),function(){return s((0,i.B1)())}}),[a,e]),{isEnd:u,handleClick:function(){s("all"!==_?(0,i.Wi)(c.m.GAMES_BY_GENRE(_,r+1)):(0,i.Wi)(c.m.GAMES_URL(r+1))),s((0,i.Ph)(r+1))},gamesList:m,genres:o}},m=n(1413),o=n(4925),_=n(7996),d=n(1510),g=n(63),h=n(4505),f=n(1087),x="styles_card__BTTBh",j="styles_details__rwb2d",v="styles_title__iIyq1",E="styles_details__secondary__25r-k",N="styles_wrapper__rRE9i",G="styles_img__c0pOo",p=n(184),y=["name","genres","slug","img","price"],k=(0,t.memo)((function(e){var s=e.id,n=(0,l.v9)((0,i.J1)(s)),r=n.name,t=n.genres,a=n.slug,c=n.img,u=(n.price,(0,o.Z)(n,y));return(0,p.jsxs)("article",{className:x,children:[(0,p.jsx)(h.Z,{game:n}),(0,p.jsx)(f.rU,{className:N,to:"/games/".concat(a),title:"Go to the game page",children:(0,p.jsx)("img",{src:c,alt:"poster",className:G,loading:"lazy"})}),(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)("h2",{className:v,children:r}),(0,p.jsx)(_.Z,{genres:t}),(0,p.jsx)(g.Z,(0,m.Z)({className:E},u)),(0,p.jsx)(d.Z,{game:n})]})]})})),R=function(){var e=(0,l.v9)(i.KT);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h1",{className:"visually-hidden",children:"list of game cards"}),e.map((function(e){var s=e.id;return(0,p.jsx)(k,{id:s},s)}))]})},S="styles_form__hx-JW",b="styles_label__20p8z",A="styles_select__rGSbF",C=function(e){var s=e.genres,n=e.setCurrentGenre,r=e.currentGenre,t=(0,l.I0)();return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("form",{className:S,children:[(0,p.jsx)("label",{htmlFor:"genres",className:b,children:"Select an genres"}),(0,p.jsxs)("select",{id:"genres",className:A,defaultValue:r,onChange:function(e){n(e.target.value),t((0,i.Hh)(e.target.value)),t((0,i.Ph)(1))},children:[(0,p.jsx)("option",{value:"all",children:"All"},"all"),s.map((function(e){var s=e.id,n=e.name,r=e.slug;return(0,p.jsx)("option",{value:r,children:n},s)}))]})]})})},Z="styles_skeleton__item__R7xML",B=Array(6).fill(1),L=function(){var e=(0,l.v9)((function(e){return e.games})).status;return(0,p.jsx)(p.Fragment,{children:"loading"===e&&(0,p.jsx)(p.Fragment,{children:B.map((function(e,s){return(0,p.jsx)("div",{className:Z},s)}))})})},M="styles_section__RshZB",F="styles_load-more__aNTCK",W=function(){var e=(0,l.v9)((function(e){return e.games})),s=e.currentGenre,n=e.status,i=(0,t.useState)(s),c=(0,r.Z)(i,2),m=c[0],o=c[1],_=u(m),d=_.handleClick,g=_.isEnd,h=_.gamesList,f=_.genres;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(C,{genres:f,setCurrentGenre:o,currentGenre:s}),(0,p.jsxs)(a.Z,{className:M,children:[(0,p.jsx)(R,{}),(0,p.jsx)(L,{})]}),!g&&"fulfilled"===n&&h.length?(0,p.jsx)("button",{className:F,onClick:d,children:"Load more"}):null]})},U=n(6381),w="styles_main__UVIeb",I=function(){return"rejected"===(0,l.v9)((function(e){return e.games})).status?(0,p.jsx)(U.default,{id:"error"}):(0,p.jsxs)("main",{className:w,children:[(0,p.jsx)("div",{className:"container",children:(0,p.jsx)(W,{})}),(0,p.jsx)("div",{className:"bg-shoppage"})]})}}}]);
//# sourceMappingURL=583.12c80e58.chunk.js.map