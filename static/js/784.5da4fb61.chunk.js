"use strict";(self.webpackChunkgame_store=self.webpackChunkgame_store||[]).push([[784],{2554:function(e,a,r){r.d(a,{P:function(){return i}});r(2791);var n=r(9001),t=r(3782),d=r(184),i=function(e){var a=e.show,r=e.setShow,i=e.children,c=e.bg,l=e.content,s=e.modal;return(0,d.jsx)(n.V,{open:a,onClose:function(){return r(!1)},className:s,children:(0,d.jsx)(t.w,{initial:{opacity:0,scale:0},transition:{duration:.5,ease:"linear"},animate:{opacity:1,scale:1},classname:c,children:(0,d.jsx)(n.V.Panel,{className:l,children:i})})})}},6784:function(e,a,r){r.r(a),r.d(a,{PaymentForm:function(){return Z}});var n=r(1413),t=r(4925),d=r(2791),i=r(2554),c=function(e){var a=["*","*","*","*"," ","*","*","*","*"," ","*","*","*","*"," ","*","*","*","*"];if(e)for(var r=0;r<e.length;r++)a[r]=e[r];return a.join("")},l={App:"Card_App__F0TXy","visually-hidden":"Card_visually-hidden__YURq0","card-chip":"Card_card-chip__Nm3LH","card-bg":"Card_card-bg__TPesI","card-back":"Card_card-back__JNzv9",card:"Card_card__OPEXH","card-inner":"Card_card-inner__gwnN1",turned:"Card_turned__A8EUc","card-front":"Card_card-front__JUMDH","card-glow":"Card_card-glow__LWGJX","card-contactless":"Card_card-contactless__T4PCn","card-holder":"Card_card-holder__1YWIy","card-number":"Card_card-number__58Ufy","card-valid":"Card_card-valid__rm-Ip","card-signature":"Card_card-signature__Krjx8","card-seccode":"Card_card-seccode__LxdSz",logo:"Card_logo__Fk+De"},s=r(184),o=function(e){var a=e.numberCard,r=e.name,n=e.ccv,t=e.turnClass,d=e.cardValidityPeriod,i=function(e,a){return e||a},o=d.year,u=d.month;return(0,s.jsx)("div",{className:l.card,children:(0,s.jsxs)("div",{className:"".concat(l["card-inner"]," ").concat(l[t]),children:[(0,s.jsxs)("div",{className:l["card-front"],children:[(0,s.jsx)("div",{className:l["card-bg"]}),(0,s.jsx)("div",{className:l["card-glow"]}),(0,s.jsx)("div",{className:l["card-contactless"],children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"46",height:"56",children:(0,s.jsx)("path",{fill:"none",stroke:"#f9f9f9",strokeWidth:"6",strokeLinecap:"round",d:"m35,3a50,50 0 0,1 0,50M24,8.5a39,39 0 0,1 0,39M13.5,13.55a28.2,28.5\r 0 0,1 0,28.5M3,19a18,17 0 0,1 0,18"})})}),(0,s.jsx)("div",{className:l["card-chip"]}),(0,s.jsx)("div",{className:l["card-holder"],children:i(r,"john dow")}),(0,s.jsx)("div",{className:l["card-number"],children:c(a)}),(0,s.jsxs)("div",{className:l["card-valid"],children:[i(u,"month"),"/",i(o,"year")]})]}),(0,s.jsxs)("div",{className:l["card-back"],children:[(0,s.jsx)("div",{className:l["card-signature"],children:i(r,"john dow")}),(0,s.jsx)("div",{className:l["card-seccode"],children:i(n,"***")})]})]})})},u=r(9439),m=r(1134),h="PaymentForm_wrapper__lHJVU",v="PaymentForm_bg__mOdR2",_="PaymentForm_content__yaqd7",x="PaymentForm_error__rj0hX",g="PaymentForm_selects-wrapper__S66qk",f="PaymentForm_select__kRXoQ",p="PaymentForm_valid-title__jqIIS",y="PaymentForm_ccv__Ptt2E",j="PaymentForm_btn-submit__QKuhV",b=Array(12).fill(0).map((function(e,a){return(0,s.jsx)("option",{value:"".concat(a+1).padStart(2,"0"),children:"".concat(a+1).padStart(2,"0")},a)})),C=Array(10).fill((new Date).getFullYear()).map((function(e,a){return(0,s.jsx)("option",{value:"".concat(e+a),children:"".concat(e+a)},a)})),N="".concat((new Date).getFullYear(),"-").concat(((new Date).getMonth()+1).toString().padStart(2,"0")),w=["month","year"],P=function(e){var a,r,d,i,c,l,o,h,v,_,P,S,F,Z,M,k=(0,m.cI)({mode:"onBlur",defaultValues:{cardNumber:"",name:"",ccv:"",cardValidityPeriod:{month:"",year:""}}}),q=k.register,V=k.formState,T=V.errors,L=V.isValid,A=k.handleSubmit,I=k.reset,D=e.numberCard,U=e.name,X=e.ccv,z=e.setCcv,B=e.setName,H=e.handleSetCardNumber,J=e.handleFocus,Y=e.handleBlur,E=e.cardValidityPeriod,O=e.setCardValidityPeriod,R=e.setShowModalPaymentForm,W=e.setShowConfirmModal,K=function(){R(!1),W(!0),I()},Q=function(){var e=E.year,a=E.month,r=N.split("-"),n=(0,u.Z)(r,2),t=n[0],d=n[1];if(e&&a)return a&&e>t||a>=d&&e>=t},G=function(){if(Q()){var e=T,a=(e.month,e.year,(0,t.Z)(e,w));T=(0,n.Z)({},a)}return T};return(0,s.jsxs)("form",{onSubmit:A(K),children:[(0,s.jsx)("label",{htmlFor:"",children:(0,s.jsx)("input",(0,n.Z)({type:"tel",inputMode:"numeric",autoComplete:"cc-number",value:D,placeholder:"xxxx xxxx xxxx xxxx"},q("cardNumber",{required:"The field is required",onChange:H,pattern:{value:/[\d| ]{19}/,message:"The card number must contain 16 digits"}})))}),(0,s.jsx)("div",{className:x,children:(null===(a=T)||void 0===a?void 0:a.cardNumber)&&(0,s.jsx)("p",{children:(null===(r=T)||void 0===r||null===(d=r.cardNumber)||void 0===d?void 0:d.message)||"you have entered incorrect data"})}),(0,s.jsx)("p",{className:p,children:"valid thru"}),(0,s.jsxs)("div",{className:g,children:[(0,s.jsxs)("select",(0,n.Z)((0,n.Z)({className:f},q("month",{required:"The fields is required",onChange:function(e){return O((0,n.Z)((0,n.Z)({},E),{},{month:e.target.value}))},validate:{validateNumber:function(){return Q()}}})),{},{children:[(0,s.jsx)("option",{value:"",disabled:"",children:"month"}),b]})),(0,s.jsxs)("select",(0,n.Z)((0,n.Z)({className:f},q("year",{required:"The fields is required",onChange:function(e){return O((0,n.Z)((0,n.Z)({},E),{},{year:e.target.value}))},validate:{validateNumber:function(){return Q()}}})),{},{children:[(0,s.jsx)("option",{value:"",disabled:"",children:"year"}),C]}))]}),(0,s.jsx)("div",{className:x,children:((null===(i=G())||void 0===i?void 0:i.month)||(null===(c=G())||void 0===c?void 0:c.year))&&(0,s.jsx)("p",{children:(null===(l=T)||void 0===l||null===(o=l.month)||void 0===o?void 0:o.message)||(null===(h=T)||void 0===h||null===(v=h.year)||void 0===v?void 0:v.message)||"check and re-enter the month and year in both fields"})}),(0,s.jsx)("label",{htmlFor:"",children:(0,s.jsx)("input",(0,n.Z)({type:"text",inputMode:"text",value:U,placeholder:"name"},q("name",{required:"The field is required",onChange:function(e){var a=e.target.value.replace(/[^a-zA-Z]+/g,"");B(a)},minLength:{value:2,message:"The name field must contain more than 2 character"},pattern:{value:/[a-zA-Z]/,message:"Only Latin characters are allowed"}})))}),(0,s.jsx)("div",{className:x,children:(null===(_=T)||void 0===_?void 0:_.name)&&(0,s.jsx)("p",{children:(null===(P=T)||void 0===P||null===(S=P.name)||void 0===S?void 0:S.message)||"you have entered incorrect data"})}),(0,s.jsx)("label",{htmlFor:"",children:(0,s.jsx)("input",(0,n.Z)({type:"text",className:y,inputMode:"numeric",placeholder:"ccv",value:X,onFocus:J},q("ccv",{required:"The field is required",onChange:z,onBlur:Y,maxLength:{value:3,message:"The card number must contain 3 digits"},minLength:{value:3,message:"The card number must contain 3 digits"}})))}),(0,s.jsx)("div",{className:x,children:(null===(F=T)||void 0===F?void 0:F.ccv)&&(0,s.jsx)("p",{children:(null===(Z=T)||void 0===Z||null===(M=Z.ccv)||void 0===M?void 0:M.message)||"you have entered incorrect data"})}),(0,s.jsx)("button",{title:"Pay",onSubmit:A(K),className:j,type:"submit",disabled:!L,children:"pay"})]})},S=function(){var e=(0,d.useState)(""),a=(0,u.Z)(e,2),r=a[0],n=a[1],t=(0,d.useState)(""),i=(0,u.Z)(t,2),c=i[0],l=i[1],s=(0,d.useState)(""),o=(0,u.Z)(s,2),m=o[0],h=o[1],v=(0,d.useState)(""),_=(0,u.Z)(v,2),x=_[0],g=_[1],f=(0,d.useState)({month:"",year:""}),p=(0,u.Z)(f,2),y=p[0],j=p[1];return{numberCard:r,name:c,ccv:m,turnClass:x,setNumberCard:n,setCcv:function(e){var a,r=null===(a=e.target)||void 0===a?void 0:a.value.replace(/[^\d]/g,"").slice(0,3);h(r)},setName:l,cardValidityPeriod:y,setCardValidityPeriod:j,handleSetCardNumber:function(e){var a=e.target.value;e.target.value=function(e){var a;return(null===(a=e.replace(/[^\d]/g,"").match(/.{1,4}/g))||void 0===a?void 0:a.join(" ").substring(0,19))||""}(a),n(e.target.value)},handleFocus:function(){g("turned")},handleBlur:function(){g("")}}},F=["turnClass"],Z=function(e){var a=e.showModalPaymentForm,r=e.setShowModalPaymentForm,d=e.setShowConfirmModal,c=S(),l=c.turnClass,u=(0,t.Z)(c,F),m=u.numberCard,x=u.name,g=u.ccv,f=u.cardValidityPeriod,p=(0,n.Z)({setShowModalPaymentForm:r,setShowConfirmModal:d},u);return(0,s.jsx)("div",{className:h,children:(0,s.jsxs)(i.P,{bg:v,content:_,show:a,setShow:function(){return r(!1)},modal:h,children:[(0,s.jsx)(o,{numberCard:m,cardValidityPeriod:f,name:x,ccv:g,turnClass:l}),(0,s.jsx)(P,(0,n.Z)({},p))]})})}}}]);
//# sourceMappingURL=784.5da4fb61.chunk.js.map