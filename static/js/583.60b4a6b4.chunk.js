"use strict";(self.webpackChunkgame_store=self.webpackChunkgame_store||[]).push([[583],{1583:function(e,s,n){n.r(s),n.d(s,{default:function(){return U}});var r=n(9439),t=n(2791),a=n(2573),l=n(9434),i=n(5247),c=n(4477),u=function(e){var s=(0,l.I0)(),n=(0,l.v9)((function(e){return e.games})),r=n.currentPage,a=n.countPage,u=n.isEnd,m=n.gamesList,o=n.genres,_=n.currentGenre;return(0,t.useEffect)((function(){return s((0,i.kn)(c.m.GAME_GENRES())),s("all"!==_?(0,i.Wi)(c.m.GAMES_BY_GENRE(_,r)):(0,i.Wi)(c.m.GAMES_URL(r))),function(){return s((0,i.B1)())}}),[]),(0,t.useEffect)((function(){return s("all"===e?(0,i.Wi)(c.m.GAMES_URL(r)):(0,i.Wi)(c.m.GAMES_BY_GENRE(e,r))),function(){return s((0,i.B1)())}}),[a,e]),{isEnd:u,handleClick:function(){s("all"!==_?(0,i.Wi)(c.m.GAMES_BY_GENRE(_,r+1)):(0,i.Wi)(c.m.GAMES_URL(r+1))),s((0,i.Ph)(r+1))},gamesList:m,genres:o}},m=n(1413),o=n(4925),_=n(7996),d=n(1510),g=n(63),f=n(4505),h=n(1087),j="styles_card__usszz",x="styles_details__nx6Rn",v="styles_title__l5EO6",E="styles_details__secondary__G27ms",N="styles_wrapper__dpfSS",G="styles_img__3mK0f",p=n(184),y=["name","genres","slug","img","price"],S=(0,t.memo)((function(e){var s=e.id,n=(0,l.v9)((0,i.J1)(s)),r=n.name,t=n.genres,a=n.slug,c=n.img,u=(n.price,(0,o.Z)(n,y));return(0,p.jsxs)("article",{className:j,children:[(0,p.jsx)(f.Z,{game:n}),(0,p.jsx)(h.rU,{className:N,to:"/games/".concat(a),title:"Go to the game page",children:(0,p.jsx)("img",{src:c,alt:"poster",className:G,loading:"lazy"})}),(0,p.jsxs)("div",{className:x,children:[(0,p.jsx)("h2",{className:v,children:r}),(0,p.jsx)(_.Z,{genres:t}),(0,p.jsx)(g.Z,(0,m.Z)({className:E},u)),(0,p.jsx)(d.Z,{game:n})]})]})})),k=function(){var e=(0,l.v9)(i.KT);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h1",{className:"visually-hidden",children:"list of game cards"}),e.map((function(e){var s=e.id;return(0,p.jsx)(S,{id:s},s)}))]})},A="styles_form__GJqlo",C="styles_label__dtrQ0",R="styles_select__WgaYY",Z=function(e){var s=e.genres,n=e.setCurrentGenre,r=e.currentGenre,t=(0,l.I0)();return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("form",{className:A,children:[(0,p.jsx)("label",{htmlFor:"genres",className:C,children:"Select an genres"}),(0,p.jsxs)("select",{id:"genres",className:R,defaultValue:r,onChange:function(e){n(e.target.value),t((0,i.Hh)(e.target.value)),t((0,i.Ph)(1))},children:[(0,p.jsx)("option",{value:"all",children:"All"},"all"),s.map((function(e){var s=e.id,n=e.name,r=e.slug;return(0,p.jsx)("option",{value:r,children:n},s)}))]})]})})},L="styles_skeleton__item__O-7YP",M=Array(6).fill(1),W=function(){var e=(0,l.v9)((function(e){return e.games})).status;return(0,p.jsx)(p.Fragment,{children:"loading"===e&&(0,p.jsx)(p.Fragment,{children:M.map((function(e,s){return(0,p.jsx)("div",{className:L},s)}))})})},b="styles_section__X29JN",F="styles_load-more__QqoHh",Y=function(){var e=(0,l.v9)((function(e){return e.games})),s=e.currentGenre,n=e.status,i=(0,t.useState)(s),c=(0,r.Z)(i,2),m=c[0],o=c[1],_=u(m),d=_.handleClick,g=_.isEnd,f=_.gamesList,h=_.genres;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Z,{genres:h,setCurrentGenre:o,currentGenre:s}),(0,p.jsxs)(a.Z,{className:b,children:[(0,p.jsx)(k,{}),(0,p.jsx)(W,{})]}),!g&&"fulfilled"===n&&f.length?(0,p.jsx)("button",{className:F,onClick:d,children:"Load more"}):null]})},B=n(6381),P="styles_main__HE9C6",U=function(){return"rejected"===(0,l.v9)((function(e){return e.games})).status?(0,p.jsx)(B.default,{id:"error"}):(0,p.jsxs)("main",{className:P,children:[(0,p.jsx)("div",{className:"container",children:(0,p.jsx)(Y,{})}),(0,p.jsx)("div",{className:"bg-shoppage"})]})}}}]);
//# sourceMappingURL=583.60b4a6b4.chunk.js.map